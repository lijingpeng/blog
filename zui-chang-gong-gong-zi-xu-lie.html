<!DOCTYPE html>
<html>
    <head>
        <title>最长公共子序列 - Frank's zone</title>
        <meta charset="utf-8" />
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/theme/static/css/style.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    </head>

    <body id="index" class="archive">
        <div class="container">
            <div class="header">
                <ul class="nav nav-pills pull-right">
                    <li class=""><a href="">Home</a></li>
                    <li><a href="/archives.html">Archives</a></li>
                </ul>
                <h3 class="text-muted"><a href="">Frank's zone</a></h3>
				<h2 class="text-muted"></h2>
             </div>
<section id="content" class="article content">
  <header>
    <h2 class="entry-title">
      <a href="/zui-chang-gong-gong-zi-xu-lie.html" rel="bookmark"
         title="Permalink to 最长公共子序列">最长公共子序列</a></h2>
 
  </header>
  
     
  <div class="entry-content">
    <hr />
<div class="highlight"><pre><span class="vi">#include</span> <span class="o">&lt;</span><span class="nx">iostream</span><span class="o">&gt;</span>
<span class="vi">#include</span> <span class="o">&lt;</span><span class="nx">algorithm</span><span class="o">&gt;</span>
<span class="vi">#include</span> <span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span>
<span class="vi">#include</span> <span class="o">&lt;</span><span class="nx">cstdio</span><span class="o">&gt;</span>
<span class="vi">#include</span> <span class="o">&lt;</span><span class="nx">memory.h</span><span class="o">&gt;</span>
<span class="nx">using</span> <span class="nx">namespace</span> <span class="nx">std</span><span class="p">;</span>
<span class="nx">const</span> <span class="nx">int</span> <span class="k">MAX</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

<span class="nx">int</span> <span class="nx">lcs_length</span><span class="p">(</span><span class="nx">const</span> <span class="nx">char</span> <span class="o">*</span><span class="nx">x</span><span class="p">,</span> <span class="nx">const</span> <span class="nx">char</span> <span class="o">*</span><span class="nx">y</span><span class="p">,</span> <span class="nx">int</span> <span class="nx">xlen</span><span class="p">,</span> <span class="nx">int</span> <span class="nx">ylen</span><span class="p">,</span> <span class="nx">int</span> <span class="p">(</span><span class="o">*</span><span class="nx">c</span><span class="p">)</span><span class="err">[</span><span class="k">MAX</span><span class="cp">]</span>)
{
    int i, j;
    for(i = 1; i <span class="err">&lt;</span>= xlen; ++i)
    {
        for(j = 1; j <span class="err">&lt;</span>= ylen; ++j)
        {
            if(x<span class="cp">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span> == y<span class="cp">[</span><span class="nx">j</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span>)    // remember array start from 0
                c<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> = c<span class="cp">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">][</span><span class="nx">j</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span> + 1;
            else if(c<span class="cp">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> &gt;= c<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span>)
                c<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> = c<span class="cp">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span>;
            else
                c<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> = c<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span>;
        }
    }
    return 0;
}

int print_lcs(const int (*C)<span class="cp">[</span><span class="k">MAX</span><span class="cp">]</span>, const char *x, int i, int j, string <span class="err">&amp;</span>s)
{
   if(i == 0 || j == 0) 
       return 0;
   if(C<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="cp">]</span> == C<span class="cp">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> <span class="err">&amp;&amp;</span> C<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> &gt; C<span class="cp">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="cp">][</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="cp">]</span> <span class="err">&amp;&amp;</span> C<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> != C<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="cp">]</span> <span class="err">&amp;&amp;</span> C<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span> != C<span class="cp">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span>)
   {
       s += x<span class="cp">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span>;
       print_lcs(C, x, i - 1, j - 1, s);
   }
   else if(C<span class="cp">[</span><span class="nx">i</span><span class="cp">][</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="cp">]</span> &gt; C<span class="cp">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="cp">][</span><span class="nx">j</span><span class="cp">]</span>)
       print_lcs(C, x, i, j - 1, s);
   else
       print_lcs(C, x, i - 1, j, s);
}
</pre></div>
  </div><!-- /.entry-content -->
   <footer class="post-info text-muted">
    Posted on <abbr class="published" title="2014-06-09T00:00:00">
      一 09 六月 2014
    </abbr>
    <address class="vcard author">
      by <a class="url fn" href="/author/frank.html">Frank</a>
    </address> in <a href="/category/algorithm.html">Algorithm</a> Tagged <a href="/tag/lcs.html">LCS </a>  </footer><!-- /.post-info -->
</section>
            <footer id="contentinfo" class="footer">
                    <nav class="pull-right bottom-nav">
                        <a href="/None">RSS</a>
                    </nav>
                    <address id="about" class="vcard body">
                    &copy; <a href="">Frank's zone</a> Proudly powered by <a href="http://getpelican.com/">Pelican</a>
                    </address><!-- /#about -->
            </footer><!-- /#contentinfo -->
        </div><!-- container -->
    </body>
</html>