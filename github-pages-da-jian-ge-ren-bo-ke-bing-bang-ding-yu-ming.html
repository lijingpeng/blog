<!DOCTYPE html>
<html>
    <head>
        <title>Github pages 搭建个人博客并绑定域名 - Frank's zone</title>
        <meta charset="utf-8" />
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/theme/static/css/style.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    </head>

    <body id="index" class="archive">
        <div class="container">
            <div class="header">
                <ul class="nav nav-pills pull-right">
                    <li class=""><a href="">Home</a></li>
                    <li><a href="/archives.html">Archives</a></li>
                </ul>
                <h3 class="text-muted"><a href="">Frank's zone</a></h3>
				<h2 class="text-muted"></h2>
             </div>
<section id="content" class="article content">
  <header>
    <h2 class="entry-title">
      <a href="/github-pages-da-jian-ge-ren-bo-ke-bing-bang-ding-yu-ming.html" rel="bookmark"
         title="Permalink to Github pages 搭建个人博客并绑定域名">Github pages 搭建个人博客并绑定域名</a></h2>
 
  </header>
  
     
  <div class="entry-content">
    <hr />
<p>目前，github下pelican搭建的极简主义的博客越来越受到大家的欢迎，本文介绍在github中一个仓库同时保存Markdown博客主内容和HTML网页，并绑定域名。 我们将markdown文件保存在仓库的master分支中，将HTML网页保存在gh-pages分支中，并将域名绑定到gh-pages分支，下面是操作步骤：</p>
<h3>1. 首先在github创建仓库</h3>
<p>并不局限于username.github.com这种的顶级域名仓库，如果想创建类似blog.example.com的博客，直接创建一个名字为blog的仓库即可。</p>
<h3>2. 克隆到本地：</h3>
<div class="highlight"><pre> git clone git@github.com:yourusername/blog.git 
</pre></div>


<h3>3. 在克隆后的blog目录中初始化pelican工作目录</h3>
<div class="highlight"><pre><span class="nb">cd </span>blog  
pelican-quickstart 
</pre></div>


<p>这样，本地blog目录将会有以下目录结构：</p>
<div class="highlight"><pre>content  
develop_server.sh*  
fabfile.py  
Makefile  
output  
pelicanconf.py  
pelicanconf.pyc   
publishconf.py  
.git  
</pre></div>


<p>其中.git表示本目录被git所管理，因为我们知道markdown所写的内容必须放到content下，<strong>因此我们可以将.git目录拷贝到content目录</strong></p>
<div class="highlight"><pre>cp -r .git content/
</pre></div>


<p>这样就确保我们的md文件将会被同步到github仓库的master分支</p>
<h3>4. 创建分支</h3>
<p>进入content目录，并创建gh-pages分支（必须是这个分支名字）</p>
<div class="highlight"><pre>git checkout -b gh-pages  
git push -u origin gh-pages  
git checkout master
</pre></div>


<p><strong>在这一步骤中，只要我们自己创建gh-pages分支并同步到远端的时候，github会自动为我们建立一个可以访问的URL地址，格式是：http://username.github.io/blog</strong></p>
<h3>5. 同步静态网站到分支</h3>
<p>pelican处理markdown生成的html文件将会放到output目录中，因此我们将gh-pages的checkout到该目录，以后html更新后，只需要在该目录下push即可。</p>
<p>克隆分支，在blog目录下：</p>
<div class="highlight"><pre>git clone -b gh-pages git@github.com:username/blog.git output
</pre></div>


<h3>6. 测试</h3>
<ul>
<li>在content目录下随便写一篇文章，例如example.md</li>
</ul>
<div class="highlight"><pre>git status
git add example.md
git push origin master
</pre></div>


<p>这将会把该md文件同步到远端主分支，起到一定的备份作用</p>
<ul>
<li>退出到blog目录下</li>
</ul>
<div class="highlight"><pre>make html
</pre></div>


<p>生成HTML文件到output目录</p>
<ul>
<li>到output目录下</li>
</ul>
<div class="highlight"><pre>git status
git add .
git push origin gh-pages
</pre></div>


<p>这样就将网页同步到gh-pages分支了，打开浏览器，访问
http://username.github.io/blog，看看是不是能访问了</p>
<h3>7. 绑定域名</h3>
<ul>
<li>在DNS解析商那设置二级域名，例如本例中的blog，添加CNAME，指向username.github.io.</li>
<li>在output目录下创建CNAME文件，内容为要指向的域名，例如：blog.example.com，push到远端gh-pages分支即可。</li>
</ul>
<h3>8. Notice</h3>
<ul>
<li>域名解析需要一定的时间才能在全球生效，设置完域名解析之后请稍后哦</li>
<li>文中的username和example需要替换成你自己的项目和域名</li>
</ul>
  </div><!-- /.entry-content -->
   <footer class="post-info text-muted">
    Posted on <abbr class="published" title="2014-06-05T00:00:00">
      四 05 六月 2014
    </abbr>
    <address class="vcard author">
      by <a class="url fn" href="/author/frank.html">Frank</a>
    </address> in <a href="/category/git.html">Git</a> Tagged <a href="/tag/github.html">github </a><a href="/tag/pages.html">pages </a><a href="/tag/blog.html">blog </a><a href="/tag/yu-ming.html">域名 </a>  </footer><!-- /.post-info -->
</section>
            <footer id="contentinfo" class="footer">
                    <nav class="pull-right bottom-nav">
                        <a href="/None">RSS</a>
                    </nav>
                    <address id="about" class="vcard body">
                    &copy; <a href="">Frank's zone</a> Proudly powered by <a href="http://getpelican.com/">Pelican</a>
                    </address><!-- /#about -->
            </footer><!-- /#contentinfo -->
        </div><!-- container -->
    </body>
</html>