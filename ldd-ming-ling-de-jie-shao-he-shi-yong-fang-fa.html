<!DOCTYPE html>
<html>
    <head>
        <title>ldd 命令的介绍和使用方法 - Frank's zone</title>
        <meta charset="utf-8" />
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/theme/static/css/style.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    </head>

    <body id="index" class="archive">
        <div class="container">
            <div class="header">
                <ul class="nav nav-pills pull-right">
                    <li class=""><a href="">Home</a></li>
                    <li><a href="/archives.html">Archives</a></li>
                </ul>
                <h3 class="text-muted"><a href="">Frank's zone</a></h3>
				<h2 class="text-muted"></h2>
             </div>
<section id="content" class="article content">
  <header>
    <h2 class="entry-title">
      <a href="/ldd-ming-ling-de-jie-shao-he-shi-yong-fang-fa.html" rel="bookmark"
         title="Permalink to ldd 命令的介绍和使用方法">ldd 命令的介绍和使用方法</a></h2>
 
  </header>
  
     
  <div class="entry-content">
    <hr />
<p>ldd 能够显示可执行模块的dependency，其原理是通过设置一系列的环境变量，如下：LD_TRACE_LOADED_OBJECTS、LD_WARN、LD_BIND_NOW、LD_LIBRARY_VERSION、LD_VERBOSE等。当LD_TRACE_LOADED_OBJECTS环境变量不为空时，任何可执行程序在运行时，它都会只显示模块的dependency，而程序并不真正执行。</p>
<p>它的执行原理就是通过ld-linux.so（elf动态库的装载器）来实现的。我们知道，ld-linux.so模块会先于executable模块程序工作，并获得控制权，因此当上述的那些环境变量被设置时，ld-linux.so选择了显示可执行模块的dependency。
例如：</p>
<div class="highlight"><pre>frank@linux:~/dev<span class="nv">$ </span>ldd a.out
    linux-vdso.so.1 <span class="o">=</span>&gt;  <span class="o">(</span>0x00007fff3bffe000<span class="o">)</span>
    libstdc++.so.6 <span class="o">=</span>&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 <span class="o">(</span>0x00007f1faa400000<span class="o">)</span>
    libc.so.6 <span class="o">=</span>&gt; /lib/x86_64-linux-gnu/libc.so.6 <span class="o">(</span>0x00007f1faa03a000<span class="o">)</span>
    libm.so.6 <span class="o">=</span>&gt; /lib/x86_64-linux-gnu/libm.so.6 <span class="o">(</span>0x00007f1fa9d33000<span class="o">)</span>
    /lib64/ld-linux-x86-64.so.2 <span class="o">(</span>0x00007f1faa72b000<span class="o">)</span>
    libgcc_s.so.1 <span class="o">=</span>&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 <span class="o">(</span>0x00007f1fa9b1d000<span class="o">)</span>
</pre></div>


<p>实际上可以直接执行ld-linux.so模块，如：</p>
<div class="highlight"><pre>/lib/ld-linux.so.2 --list program
</pre></div>
  </div><!-- /.entry-content -->
   <footer class="post-info text-muted">
    Posted on <abbr class="published" title="2014-06-06T00:00:00">
      五 06 六月 2014
    </abbr>
    <address class="vcard author">
      by <a class="url fn" href="/author/frank.html">Frank</a>
    </address> in <a href="/category/linux.html">linux</a> Tagged <a href="/tag/linux.html">linux </a><a href="/tag/ldd.html">ldd </a><a href="/tag/yi-lai-guan-xi.html">依赖关系 </a>  </footer><!-- /.post-info -->
</section>
            <footer id="contentinfo" class="footer">
                    <nav class="pull-right bottom-nav">
                        <a href="/None">RSS</a>
                    </nav>
                    <address id="about" class="vcard body">
                    &copy; <a href="">Frank's zone</a> Proudly powered by <a href="http://getpelican.com/">Pelican</a>
                    </address><!-- /#about -->
            </footer><!-- /#contentinfo -->
        </div><!-- container -->
    </body>
</html>